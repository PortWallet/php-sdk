{
    "$id": "http://portwallet.com/invoice.json",
    "type": "object",
    "required": [
        "order",
        "product",
        "billing",
        "recurring"
    ],
    "properties": {
        "order": {
            "$id": "#/properties/order",
            "type": "object",
            "title": "The Order Schema",
            "required": [
                "amount",
                "currency",
                "redirect_url",
                "reference"
            ],
            "properties": {
                "amount": {
                    "$id": "#/properties/order/properties/amount",
                    "type": [
                        "number",
                        "integer"
                    ],
                    "title": "The Amount Schema",
                    "minimum": 1,
                    "maximum": 10000000
                },
                "currency": {
                    "$id": "#/properties/order/properties/currency",
                    "type": "string",
                    "title": "The Currency Schema",
                    "minLength": 3,
                    "maxLength": 3,
                    "pattern": "^[A-Za-z]+$"
                },
                "redirect_url": {
                    "$id": "#/properties/order/properties/redirect_url",
                    "type": "string",
                    "title": "The Redirect_url Schema",
                    "minLength": 10,
                    "maxLength": 200
                },
                "ipn_url": {
                    "$id": "#/properties/order/properties/ipn_url",
                    "type": "string",
                    "title": "The Ipn_url Schema",
                    "minLength": 10,
                    "maxLength": 200
                },
                "reference": {
                    "$id": "#/properties/order/properties/reference",
                    "type": [
                        "string",
                        "number"
                    ],
                    "title": "The Reference Schema",
                    "minLength": 2,
                    "maxLength": 100
                },
                "validity": {
                    "$id": "#/properties/order/properties/reference",
                    "type": "integer",
                    "title": "The Reference Schema",
                    "default": 3600
                }
            }
        },
        "product": {
            "$id": "#/properties/product",
            "type": "object",
            "title": "The Product Schema",
            "required": [
                "name",
                "description"
            ],
            "properties": {
                "name": {
                    "$id": "#/properties/product/properties/name",
                    "type": "string",
                    "title": "The Name Schema",
                    "minLength": 3,
                    "maxLength": 150
                },
                "description": {
                    "$id": "#/properties/product/properties/description",
                    "type": "string",
                    "title": "The Description Schema",
                    "minLength": 3,
                    "maxLength": 300
                }
            }
        },
        "billing": {
            "$id": "#/properties/billing",
            "type": "object",
            "title": "The Billing Schema",
            "required": [
                "customer"
            ],
            "properties": {
                "customer": {
                    "$id": "#/properties/billing/properties/customer",
                    "type": "object",
                    "title": "The Customer Schema",
                    "required": [
                        "name",
                        "email",
                        "phone",
                        "address"
                    ],
                    "properties": {
                        "name": {
                            "$id": "#/properties/billing/properties/customer/properties/name",
                            "type": "string",
                            "title": "The Name Schema",
                            "minLength": 0,
                            "maxLength": 50,
                            "pattern": "^[A-Za-z .]+$"
                        },
                        "email": {
                            "$id": "#/properties/billing/properties/customer/properties/email",
                            "type": "string",
                            "title": "The Email Schema",
                            "minLength": 5,
                            "maxLength": 50,
                            "pattern": "^[A-Za-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"
                        },
                        "phone": {
                            "$id": "#/properties/billing/properties/customer/properties/phone",
                            "type": "string",
                            "title": "The Phone Schema",
                            "minLength": 9,
                            "maxLength": 15,
                            "pattern": "^[0-9 +]+$"
                        },
                        "address": {
                            "$id": "#/properties/billing/properties/customer/properties/address",
                            "type": "object",
                            "title": "The Address Schema",
                            "required": [
                                "street",
                                "city",
                                "zipcode",
                                "country"
                            ],
                            "properties": {
                                "street": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/street",
                                    "type": "string",
                                    "title": "The Street Schema",
                                    "minLength": 2,
                                    "maxLength": 200
                                },
                                "city": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/city",
                                    "type": "string",
                                    "title": "The City Schema",
                                    "minLength": 2,
                                    "maxLength": 50,
                                    "pattern": "^[A-Za-z0-9 _-]+$"
                                },
                                "state": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/state",
                                    "type": "string",
                                    "title": "The State Schema",
                                    "minLength": 2,
                                    "maxLength": 50,
                                    "default": "NA",
                                    "pattern": "^[A-Za-z0-9 _-]+$"
                                },
                                "zipcode": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/zipcode",
                                    "title": "The Zipcode Schema",
                                    "type": [
                                        "integer",
                                        "string"
                                    ],
                                    "minimum": 100,
                                    "maximum": 99999999,
                                    "minLength": 3,
                                    "maxLength": 8,
                                    "default": "NA",
                                    "pattern": "^[A-Za-z0-9 _-]+$"
                                },
                                "country": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/country",
                                    "type": "string",
                                    "title": "The Country Schema",
                                    "minLength": 2,
                                    "maxLength": 3,
                                    "pattern": "^[A-Za-z]+$"
                                }
                            }
                        }
                    }
                },
                "source": {
                    "$id": "#/properties/billing/properties/source",
                    "type": "object",
                    "title": "The Source Schema",
                    "required": [
                        "id",
                        "category"
                    ],
                    "properties": {
                        "id": {
                            "$id": "#/properties/billing/properties/source/properties/id",
                            "type": "string",
                            "title": "The Id Schema",
                            "minLength": 1,
                            "maxLength": 200,
                            "pattern": "^[A-Fa-f0-9]+$"
                        },
                        "category": {
                            "$id": "#/properties/billing/properties/source/properties/category",
                            "type": "string",
                            "title": "The Category Schema",
                            "enum": [
                                "card",
                                "mfs"
                            ]
                        }
                    }
                }
            }
        },
        "shipping": {
            "$id": "#/properties/shipping",
            "type": "object",
            "title": "The Shipping Schema",
            "required": [
                "customer"
            ],
            "properties": {
                "customer": {
                    "$id": "#/properties/billing/properties/customer",
                    "type": "object",
                    "title": "The Customer Schema",
                    "required": [
                        "name",
                        "email",
                        "phone",
                        "address"
                    ],
                    "properties": {
                        "name": {
                            "$id": "#/properties/billing/properties/customer/properties/name",
                            "type": "string",
                            "title": "The Name Schema",
                            "minLength": 0,
                            "maxLength": 50,
                            "pattern": "^[A-Za-z .]+$"
                        },
                        "email": {
                            "$id": "#/properties/billing/properties/customer/properties/email",
                            "type": "string",
                            "title": "The Email Schema",
                            "minLength": 5,
                            "maxLength": 50,
                            "pattern": "^[A-Za-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"
                        },
                        "phone": {
                            "$id": "#/properties/billing/properties/customer/properties/phone",
                            "type": "string",
                            "title": "The Phone Schema",
                            "minLength": 9,
                            "maxLength": 15,
                            "pattern": "^[0-9 +]+$"
                        },
                        "address": {
                            "$id": "#/properties/billing/properties/customer/properties/address",
                            "type": "object",
                            "title": "The Address Schema",
                            "required": [
                                "street",
                                "city",
                                "zipcode",
                                "country"
                            ],
                            "properties": {
                                "street": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/street",
                                    "type": "string",
                                    "title": "The Street Schema",
                                    "minLength": 2,
                                    "maxLength": 200
                                },
                                "city": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/city",
                                    "type": "string",
                                    "title": "The City Schema",
                                    "minLength": 2,
                                    "maxLength": 50,
                                    "pattern": "^[A-Za-z0-9 _-]+$"
                                },
                                "state": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/state",
                                    "type": "string",
                                    "title": "The State Schema",
                                    "minLength": 2,
                                    "maxLength": 50,
                                    "default": "NA",
                                    "pattern": "^[A-Za-z0-9 _-]+$"
                                },
                                "zipcode": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/zipcode",
                                    "title": "The Zipcode Schema",
                                    "type": [
                                        "integer",
                                        "string"
                                    ],
                                    "minimum": 100,
                                    "maximum": 99999999,
                                    "minLength": 3,
                                    "maxLength": 8,
                                    "default": "NA",
                                    "pattern": "^[A-Za-z0-9 _-]+$"
                                },
                                "country": {
                                    "$id": "#/properties/billing/properties/customer/properties/address/properties/country",
                                    "type": "string",
                                    "title": "The Country Schema",
                                    "minLength": 2,
                                    "maxLength": 3,
                                    "pattern": "^[A-Za-z]+$"
                                }
                            }
                        }
                    }
                }
            }
        },
        "customs": {
            "$id": "/properties/tags",
            "type": "array",
            "items": {
                "$id": "/properties/tags/items",
                "type": "object",
                "additionalProperties": false,
                "uniqueItems": true,
                "patternProperties": {
                    "^[a-zA-Z0-9]+$": {
                        "type": "string"
                    }
                }
            }
        },
        "recurring": {
            "$id": "#/properties/recurring",
            "type": "object",
            "title": "The Recurring Schema",
            "required": [
                "period"
            ],
            "properties": {
                "period": {
                    "$id": "#/properties/recurring/properties/period",
                    "type": "object",
                    "title": "The Period Schema",
                    "required": [
                        "unit"
                    ],
                    "oneOf": [
                        {
                            "required": [
                                "interval"
                            ]
                        },
                        {
                            "required": [
                                "prorated"
                            ]
                        }
                    ],
                    "properties": {
                        "interval": {
                            "$id": "#/properties/recurring/properties/period/properties/interval",
                            "type": "integer",
                            "title": "The Interval Schema",
                            "minimum": 1,
                            "maximum": 999
                        },
                        "unit": {
                            "$id": "#/properties/recurring/properties/period/properties/unit",
                            "type": "string",
                            "title": "The Unit Schema",
                            "enum": [
                                "daily",
                                "weekly",
                                "monthly",
                                "quarterly",
                                "half-yearly",
                                "yearly"
                            ]
                        },
                        "prorated": {
                            "$id": "#/properties/recurring/properties/period/properties/prorated",
                            "type": "boolean",
                            "title": "The prorated Schema"
                        }
                    }
                },
                "trial": {
                    "$id": "#/properties/recurring/properties/trial",
                    "type": "object",
                    "title": "The Trial Schema",
                    "required": [
                        "enable",
                        "amount"
                    ],
                    "oneOf": [
                        {
                            "required": [
                                "period"
                            ]
                        },
                        {
                            "required": [
                                "period_end"
                            ]
                        }
                    ],
                    "properties": {
                        "enable": {
                            "$id": "#/properties/recurring/properties/trial/properties/enable",
                            "type": "boolean",
                            "title": "The Enable Schema",
                            "default": false
                        },
                        "period": {
                            "$id": "#/properties/recurring/properties/trial/properties/period",
                            "type": "object",
                            "title": "The Period Schema",
                            "required": [
                                "count",
                                "unit"
                            ],
                            "properties": {
                                "count": {
                                    "$id": "#/properties/recurring/properties/trial/properties/period/properties/count",
                                    "type": "integer",
                                    "title": "The Count Schema",
                                    "minimum": 1,
                                    "maximum": 999
                                },
                                "unit": {
                                    "$id": "#/properties/recurring/properties/trial/properties/period/properties/unit",
                                    "type": "string",
                                    "title": "The Unit Schema",
                                    "enum": [
                                        "day",
                                        "week",
                                        "month",
                                        "year"
                                    ]
                                }
                            }
                        },
                        "period_end": {
                            "$id": "#/properties/recurring/properties/trial/properties/period",
                            "type": "integer",
                            "title": "The Period Schema",
                            "minimum": 600,
                            "maximum": 31536000
                        },
                        "amount": {
                            "$id": "#/properties/recurring/properties/trial/properties/amount",
                            "type": "integer",
                            "title": "The Amount Schema"
                        }
                    }
                },
                "offers": {
                    "$id": "#/properties/recurring/properties/offer",
                    "type": "object",
                    "title": "The Offer Schema",
                    "required": [
                        "enable",
                        "amount"
                    ],
                    "properties": {
                        "enable": {
                            "$id": "#/properties/recurring/properties/offer/properties/enable",
                            "type": "boolean",
                            "title": "The Enable Schema",
                            "default": false
                        },
                        "amount": {
                            "$id": "#/properties/recurring/properties/offer/properties/amount",
                            "type": [
                                "integer",
                                "number"
                            ],
                            "title": "The Amount Schema",
                            "minimum": 1,
                            "maximum": 10000000
                        },
                        "number_of_payment": {
                            "$id": "#/properties/recurring/properties/offer/properties/number_of_payment",
                            "type": "integer",
                            "title": "The Number_of_payment Schema",
                            "default": 0,
                            "minimum": 0,
                            "maximum": 999999
                        }
                    }
                },
                "schedule": {
                    "$id": "#/properties/recurring/properties/schedule",
                    "type": "object",
                    "title": "For Schedule Payment",
                    "required": [
                        "enable",
                        "start"
                    ],
                    "properties": {
                        "enable": {
                            "$id": "#/properties/recurring/properties/schedule/properties/enable",
                            "type": "boolean",
                            "title": "The Enable Schema",
                            "default": false
                        },
                        "start": {
                            "$id": "#/properties/recurring/properties/schedule/properties/start",
                            "type": [
                                "string"
                            ],
                            "title": "schedule payment date",
                            "pattern": "^([1][9][0-9]{2}|[2][0-9]{3})-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (2[0-3]|[01][0-9]):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9])$"
                        },
                        "payment_type": {
                            "$id": "#/properties/recurring/properties/schedule/properties/payment_type",
                            "type": "string",
                            "title": "payment type",
                            "default": "charge",
                            "enum": [
                                "full",
                                "partial",
                                "charge"
                            ]
                        },
                        "amount": {
                            "$id": "#/properties/recurring/properties/schedule/properties/amount",
                            "type": [
                                "number",
                                "integer"
                            ],
                            "title": "The schedule Amount Schema",
                            "minimum": 1,
                            "maximum": 10000000
                        }
                    }
                },
                "number_of_payment": {
                    "$id": "#/properties/recurring/properties/number_of_payment",
                    "type": "integer",
                    "title": "The Number_of_payment Schema",
                    "default": 0,
                    "minimum": 0,
                    "maximum": 999999
                },
                "grace_period": {
                    "$id": "#/properties/recurring/properties/grace_period",
                    "type": "integer",
                    "title": "The Grace_period Schema",
                    "default": 3,
                    "minimum": 0,
                    "maximum": 999999
                },
                "billing": {
                    "$id": "#/properties/recurring/properties/billing",
                    "type": "string",
                    "default": "charge"
                },
                "cancel_at_period_end": {
                    "$id": "#/properties/recurring/properties/cancel_at_period_end",
                    "type": "boolean",
                    "default": false
                }
            }
        }
    }
}
